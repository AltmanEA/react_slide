
### Состояние привязано к позиции в дереве

```3/3/App1```

<div style="display: flex;">
    <div style="flex: 2;">
    <pre><code>const counter = < Counter />;
return (
    < div >
        {counter}
        {counter}
    < /div >
);
    </code></pre>
    </div>
    <div style="flex: 2;">
    <img src="preserving_state_tree.webp"/>
    <div>
<div>

---

### Состояние компонентов изолировано друг от друга

```3/3/App2```

---

### Состояние сбрасывается при удалении компонента

```3/3/App3```

---

### Тот же компонент в той же позиции сохраняет состояние

```3/3/App4```

---

### Разные компоненты в одной и той же позиции сбрасывают состояние

```3/3/App6```

---

### Проблема с вложенными компонентами


```3/3/App8```

---

### Сброс состояния в одной и той же позиции

```3/3/App9```

---

### Сброс состояния в одной и той же позиции

#### Рендер компонентов в разной позиции

```3/3/App10```

---

### Сброс состояния в одной и той же позиции

#### Использование ключа

```3/3/App11```

---

### Сброс формы с помощью ключа

Проблема: ```3/3/App12```

Решение: ```3/3/App13```

---

### Резюме

- <small>React сохраняет состояние до тех пор, пока один и тот же компонент отображается в одной и той же позиции.</small>
- <small>Состояние не хранится в JSX-тегах. Оно связано с позицией дерева, в которую вы поместили JSX.</small>
- <small>Вы можете заставить поддерево сбросить свое состояние, задав ему другой ключ.</small>
- <small>Не вставляйте определения компонентов, иначе вы случайно сбросите состояние.</small>
