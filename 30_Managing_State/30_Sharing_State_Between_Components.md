### Lifting state up

Если требуется общее состояние для двух компонентов:
- состояние перемещается в ближайший общий родительский компонент;
- в компонентах общее состояние изменяется на props.

---

### Пример подъема состояния

```3/1/App1```

![](sharing_state_child.webp)

---

### Удаляем состояние из дочерних компонентов

```
const [isActive, setIsActive] = useState(false);
```
```
function Panel(
    { title, children, isActive }: 
    { title: string; children: React.ReactNode; 
    isActive: boolean })
```

---

### Передача жестко закодированных данных от общего родителя

```3/1/App1```
```
 <Panel title="About">
...
</Panel>
```
```
<Panel title="About" isActive={true}>
...
</Panel>
```

---

### Добавьте состояние к общему родителю

```3/1/App3```
```
const [activeIndex, setActiveIndex] = useState(0);
...
      <Panel
        title="About"
        isActive={activeIndex === 0}
        onShow={() => setActiveIndex(0)}
      >
```

---

### Результат подъема

![](sharing_state_parent.webp)

---

### Единый источник истины

---

### Резюме

- <small>Когда вы хотите скоординировать два компонента, переместите их состояние в их общего родителя.</small>
- <small>Затем передайте информацию вниз через props от их общего родителя.</small>
- <small>Наконец, передайте обработчики событий, чтобы дочерние компоненты могли изменять состояние родительского.</small>
- <small>Полезно рассматривать компоненты как "управляемые" (управляемые пропсами) или "неуправляемые" (управляемые состоянием).</small>